<!-- base.html -->
{% load static %}
{% load decorators %}

<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}Título da Página{% endblock %}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        /* Estilos para a barra de navegação */
        .navbar {
            background-color: gray;
            color: black;
            padding: 10px;
        }
        
        a {
            text-decoration: none;
            color: #333;
        }
        h1 {
            color: #333;
        }

        /* Estilos para o rodapé */
        .footer {
            background-color: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        body {
            margin: 0 auto;
        }
        .content {
            margin: 0 100px;
        }
        .alert {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 22px 10px;
            font-family: "Inter", sans-serif;
            font-weight: bold;
            font-size: 15px;
            color: #fff;
            background-color: #333;
            border-radius: 10px;
            border: 1px solid #666;
            /* opacity: 0; */
            animation-name: fade-in-out;
            animation-duration: 5s;
            animation-fill-mode: forwards;
        }
        
        .alert-close {
            float: right;
            cursor: pointer;
            margin-left: 10px;
            font-size: 15px;
            margin-top: -15px;
        }
        
    </style>
</head>
<body>
    <div class="navbar">
        <!-- Conteúdo da barra de navegação -->
        <h1>Minha Barra de Navegação</h1>
        
        {% has_role user 'admin' as has_admin_role %}
        {% has_role user 'cliente' as has_cliente_role %}
        {% has_role user 'garcom' as has_garcom_role %}
        {% has_role user 'cozinha' as has_cozinha_role %}
        {% has_role user 'caixa' as has_caixa_role %}

        {% if has_admin_role %}

        <a href="{% url "home_cliente" %}">Home cliente</a> |
        <a href="{% url "gerenciar_prato" %}">Gerenciar prato</a> |
        <a href="{% url "gerenciar_garcons" %}">Gerenciar garcom</a> | 
        <a href="{% url "gerenciar_caixas" %}">Gerenciar caixa</a> | 
        <a href="{% url "gerenciar_cozinhas" %}">Gerenciar cozinha</a> | 
        <a href="{% url "gerenciar_clientes" %}">Gerenciar clientes</a> | 
        <a href="{% url "gerenciar_adicionais" %}">Gerenciar Adicionais</a> | 
        <a href="{% url "criar reserva" %}">criar reserva</a> |
        <a href="{% url "perfil_cliente" %}">Perfil</a> |
        <a href="{% url 'home_eventos' %}"> Eventos</a> |
        
        {% elif has_cliente_role %}
        
        <a href="{% url "home_cliente" %}">Home</a> |
        <a href="{% url 'home_eventos' %}"> Eventos</a> |
        <a href="{% url "criar reserva" %}">criar reserva</a> |
        <a href="{% url "ver_pedidos_cliente" %}">pedidos</a> |
        <a href="{% url "ver carrinho cliente" %}">carrinho</a> |
        <a href="{% url "perfil_cliente" %}">Perfil</a> |
        
        {% elif has_garcom_role %}
        
        <a href="{% url "home_garcom" %}">Home</a> |
        <a href="{% url 'home_eventos' %}"> Eventos</a> |
        <a href="{% url "ver_pedidos_garcom" %}">pedidos</a> |
        <a href="{% url "ver_carrinho_garcom" %}">carrinho</a> |
        
        {% elif has_cozinha_role %}
        
        <a href="{% url "home_cozinha" %}">Home</a> |
        <a href="{% url 'home_eventos' %}"> Eventos</a> |
        
        {% elif has_caixa_role %}
        
        <a href="{% url "home" %}">Home</a> |
        <a href="{% url 'home_eventos' %}"> Eventos</a> |

        {% endif %}
        
        <a href="/accounts/logout">Sair</a> |
    </div>
    <div class="content">
        {% block content %}{% endblock %}
    </div>

    <div class="footer">
        <!-- Conteúdo do rodapé -->
        <p>Meu Rodapé</p>
    </div>
</body>
<script src="{% block js %}{% endblock js %}"></script>
<script>
    {% if messages %}
    // Função para fechar o alerta
    function closeAlert(alert) {
        alert.remove();
    }
    
    // Função para exibir as mensagens de sucesso
    function showSuccessMessages() {
        {% for message in messages %}
        var messageText = `{{ message }}`;
        // Crie um elemento de alerta para cada mensagem
        var alert = document.createElement('div');
        alert.className = 'alert alert-success';
        alert.textContent = messageText;
        // Crie um botão de fechamento (X)
        var closeButton = document.createElement('span');
        closeButton.className = 'alert-close';
        closeButton.textContent = 'X';
        closeButton.onclick = function () {
            closeAlert(alert);
        };
        alert.appendChild(closeButton);
        // Adicione o elemento ao corpo do documento
        document.body.appendChild(alert);
        // Defina um tempo limite para remover o elemento após 5 segundos
        setTimeout(function () {
            closeAlert(alert);
        }, 5000); // 5000 milissegundos = 5 segundos
        {% endfor %}
    }
    
    // Chame a função para exibir as mensagens de sucesso
    showSuccessMessages();
    {% endif %}
</script>
</html>
