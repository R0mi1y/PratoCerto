{% extends 'base/base.html' %} 
{% load static %} 
{% block title %} Home {% endblock %} 
{% block content %} 

<section class="container">
  <div class="my-carousel-section">
    <div class="my-carousel-container">
      {% for evento in eventos %}
      <div class="my-carousel-item">
        <img src="{{ evento.foto.url }}" alt="" />
        <div class="my-carousel-item-text">
          <h5>{{ evento.nome }}</h5>
          <p>{{ evento.descricao }}</p>
        </div>
      </div>
      {% empty %}
      <div class="my-carousel-item">
        <img src="{% static 'images/img1.png' %}" alt="" />
        <div class="my-carousel-item-text">
          <h5>Prato Certo</h5>
          <p>O sabor que você procura, servido com excelência!</p>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<section class="offer_section">
  <div class="offer_container">
    <h1
      style="
        text-align: center;
        font-family: 'Belanosima', sans-serif;
        color: #181818;
      "
    >
      CATEGORIAS
    </h1>
    <div class="container">
      <div class="row">
        {% for categoria in Categorias %}
        <div class="card-body">
          <div class="p-0">
            <div class="image-container">
              <img
                src="{% static 'img/' %}{{ categoria.0 }}.jpeg"
                alt="Descrição da imagem"
              />
            </div>
            <div class="card-body">
              <h6
                style="
                  font-size: 1.8rem;
                  font-weight: bold;
                  font-family: 'Dancing Script', cursive;
                "
              >
                <a
                  class="button-category"
                  href="/pratos/categoria/{{ categoria.0 }}"
                >
                  <span style="color: #181818">{{ categoria.1 }}</span>
                </a>
              </h6>
            </div>
          </div>
        </div>
        {% endfor %}
        {% for prato in recomendados %}
          <div class="col-sm-6 col-lg-4 all pizza">
            <div class="box">
              <div>
                <div class="img-box">
                  <img src="{% static 'img/' %}{{ categoria.0 }}.jpeg" alt="">
                  <img src="{{ prato.foto.url }}" alt="">
                </div>
                <div class="detail-box">
                  <h5>
                    Prato Certo
                    {{ prato.nome }}
                  </h5>
                  <h6>
                    <span>{{ categoria.1 }}</span>
                  </h6>
                  <a href="/pratos/categoria/{{ categoria.0 }}">
                    ver categoria 
                  </a>
                  <p>
                    {{ prato.descricao }}
                  </p>
                  <div class="options">
                    <h6>
                        R$ {{prato.preco}}
                    </h6>
                    {% if has_admin_role %}
                      <a href="{% url 'editar_prato' id=prato.id %}" class="btn btn-primary">
                    {% elif has_cliente_role %}
                      <a href="{% url "fazer_pedido_cliente" id=prato.id %}">
                    {% elif has_garcom_role %}
                      <a href="{% url "fazer_pedido_garcom" id=prato.id %}">
                    {% else %}
                      <a href="{% url "account_login" %}?msm=Voçê%20precisa%20estar%20logado!">
                    {% endif %}
                    </a>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        <!-- CARDS  -->
       {% comment %} {% for categoria in Categorias %}
        <div class="card">
          <div class="card-teste">
            <div class="card-body">
              <div class="login-wrap p-0">
                    <div class="image-container">
                      <img
                        src="{% static 'img/' %}{{ categoria.0 }}.jpeg"
                        alt="Descrição da imagem"
                      />
                    </div>
                <div style=" color: #eeeeee">
                  <h6 style="font-size: 1.6rem; font-family:'Dancing Script', cursive;">
                    <span>{{ categoria.1 }}</span>
                  </h6>
                  <a class="button-category" href="/pratos/categoria/{{ categoria.0 }}">
                    ver categoria
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endfor %} {% endcomment %}

        {% comment %} {% for categoria in Categorias %}
            <div class="col-md-6">
              <div class="box ">
                <div class="img-box">
                  <img src="{{ prato.foto.url }}" alt="">
                </div>
                <div class="detail-box">
                  <h5>
                    {{ prato.nome }}
                  </h5>
                  <p>
                    {{ prato.descricao }}
                  </p>
                  <div class="options">
                    <h6>
                        R$ {{prato.preco}}
                    </h6>
                    {% if has_admin_role %}
                      <a href="{% url 'editar_prato' id=prato.id %}" class="btn btn-primary">
                    {% elif has_cliente_role %}
                      <a href="{% url "fazer_pedido_cliente" id=prato.pk %}">
                    {% elif has_garcom_role %}
                      <a href="{% url "fazer_pedido_garcom" id=prato.pk %}">
                    {% else %}
                      <a href="{% url "account_login" %}?msm=Voçê%20precisa%20estar%20logado!">
                    {% endif %}
                      <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 456.029 456.029" style="enable-background:new 0 0 456.029 456.029;" xml:space="preserve">
                        <g>
                          <g>
                            <path d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248c0,29.184,23.552,53.248,53.248,53.248
                         c29.184,0,53.248-23.552,53.248-53.248C398.336,362.926,374.784,338.862,345.6,338.862z" />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304C104.448,27.566,84.992,10.67,61.952,10.67H20.48
                         C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
                         c4.096,27.136,27.648,47.616,55.296,47.616h212.992c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
                         C457.728,97.71,450.56,86.958,439.296,84.91z" />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688c-29.696,1.536-52.224,26.112-51.2,55.296
                         c1.024,28.16,24.064,50.688,52.224,50.688h1.024C193.536,443.31,216.576,418.734,215.04,389.55z" />
                          </g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                      </svg>
                    </a>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %} {% endcomment %}
      </div>
    </div>
  </div>
</section>

<script>
  function startCarousel() {
    const carouselItems = document.querySelectorAll(".my-carousel-item");
    const totalItems = carouselItems.length;
    let currentIndex = 0;

    function showItem(index) {
      carouselItems.forEach((item, i) => {
        item.style.display = i === index ? "flex" : "none";
      });
    }

    setInterval(() => {
      currentIndex = (currentIndex + 1) % totalItems;
      showItem(currentIndex);
    }, 3000);

    showItem(currentIndex);
  }
  startCarousel();

  function toggleDiv() {
    var notificationDiv = document.getElementById("notificationDiv");
    if (notificationDiv.style.display === "none") {
      notificationDiv.style.display = "block";
    } else {
      notificationDiv.style.display = "none";
    }
  }
</script>

{% endblock %}